#include "deassembly.h"
#include <stdio.h>
#include "cnes_6502.h"
#include <string.h>
#include "cnes_bus.h"

int main(){


	CNESCPU *c = cnes_cpu_alloc();
	CNESBUS* bus = cnes_bus_create();
	cnes_cpu_connect_bus(c,bus);

	unsigned char buf[] = {0xe8,0x8a,0x99,0,0x02,0x99,0x00,0x03,0x99,0x00,0x04,0x99,0,5,0xc8,0x98,
	0xc5,0x10,0xd0,4,0xc8,0x4c,0x00,0x06,0xc8,0xc8,0xc8,0xc8,0x4c,0,0x06};
	memcpy(bus->mem+0x600, buf, sizeof(buf));

	
	cnes_cpu_run(c);
    return 0;
}